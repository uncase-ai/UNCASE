# ═══════════════════════════════════════════════════════════════
# UNCASE — Environment variables
# Copy this file to .env and adjust the values:
#
#   cp .env.example .env
# ═══════════════════════════════════════════════════════════════

# ── General ──────────────────────────────────────────────────
UNCASE_ENV=development          # development | staging | production
UNCASE_LOG_LEVEL=DEBUG          # DEBUG | INFO | WARNING | ERROR
UNCASE_DEFAULT_LOCALE=es        # es | en

# ── API ──────────────────────────────────────────────────────
API_PORT=8000
API_SECRET_KEY=cambiar-en-produccion   # CHANGE this — required in production
API_CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# ── Database (PostgreSQL) ────────────────────────────────────
# Docker Compose creates a local Postgres automatically.
# If running without Docker, install PostgreSQL 16+ and create
# a database, then update DATABASE_URL to match.
POSTGRES_USER=uncase
POSTGRES_PASSWORD=uncase
POSTGRES_DB=uncase
POSTGRES_PORT=5432
DATABASE_URL=postgresql+asyncpg://uncase:uncase@localhost:5432/uncase

# ── Redis (optional) ────────────────────────────────────────
# Used for distributed rate limiting. Falls back to in-memory
# counters when not set. Docker Compose provides one automatically.
REDIS_URL=redis://localhost:6379/0

# ── LLM Providers ───────────────────────────────────────────
# Set at least ONE key. You can also register providers via API.
LITELLM_API_KEY=
ANTHROPIC_API_KEY=
OPENAI_API_KEY=
GOOGLE_API_KEY=

# ── MLflow (optional — only with `docker compose --profile ml`) ─
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_PORT=5000

# ── Privacy ──────────────────────────────────────────────────
UNCASE_PII_CONFIDENCE_THRESHOLD=0.85
UNCASE_DP_EPSILON=8.0

# ── Directories ──────────────────────────────────────────────
UNCASE_MODELS_DIR=./models
UNCASE_EXPORTS_DIR=./exports

# ── E2B Sandboxes (optional) ────────────────────────────────
E2B_API_KEY=                     # API key from e2b.dev
E2B_TEMPLATE_ID=base             # E2B template ID (or custom template)
E2B_MAX_PARALLEL=5               # Max concurrent sandboxes (1-20)
E2B_SANDBOX_TIMEOUT=300          # Sandbox timeout in seconds (30-600)
E2B_ENABLED=false                # Enable E2B sandbox support
E2B_WEBHOOK_SECRET=              # Shared secret for inbound E2B webhook verification

# ── Opik Evaluation (optional) ──────────────────────────────
# Opik runs inside E2B sandboxes — no persistent server needed
# OPIK_API_KEY=                  # Optional: Comet cloud Opik key

# ── Docker GPU (only with --profile gpu) ─────────────────────
# API_GPU_PORT=8001
